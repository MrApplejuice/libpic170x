<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libpic170x: libpic170x library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libpic170x
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">Ease of use library for PIC16(L)1705/1709 chips</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">libpic170x library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md3">License</a></li>
<li class="level1"><a href="#autotoc_md4">Features</a></li>
<li class="level1"><a href="#mainpage-usage">Usage</a><ul><li class="level2"><a href="#autotoc_md5">Requirements</a></li>
<li class="level2"><a href="#mainpage-as-inline">Use as inlined sources</a></li>
<li class="level2"><a href="#mainpage-as-library">Use as static library</a><ul><li class="level3"><a href="#autotoc_md6">Project compile options</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#mainpage-dependency-tree">Library dependency tree</a></li>
</ul>
</div>
<div class="textblock"><p>The libpic170x modular toolbox that is intended to make using or implemeting certain features of a PIC microcontroller less painful. It either gives a basis to work off, or provides a modular library to build an application from. The library was developed for the <a href="https://www.microchip.com/wwwproducts/en/PIC16F1705">PIC16(L)F1705</a> and <a href="https://www.microchip.com/wwwproducts/en/PIC16F1709">PIC16(L)F1709</a> microcontrollers. It is likely that the library will not work with other microcontrollers.</p>
<p>Please refer to the <a href="#mainpage-usage">Usage</a> section for details on how to use the library.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
License</h1>
<p>This library is licensed under the Apache License, Version 2.0. See the the attached <a class="el" href="md_LICENSE.html">LICENSE.md</a> file for details.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Features</h1>
<ul>
<li><a class="el" href="timer0-guide.html">Timer0 library</a> for coarse time-keeping</li>
</ul>
<h1><a class="anchor" id="mainpage-usage"></a>
Usage</h1>
<p>The library can be used in two different ways:</p>
<ul>
<li><a class="el" href="index.html#mainpage-as-inline">As inlined sources</a></li>
<li><a class="el" href="index.html#mainpage-as-library">A static library in the `*.lpp` format</a></li>
</ul>
<p>Using the library as inlined sources is most likely the most useful way of using the library since the library uses preprocessor macros to compile certain library settings directly into the library to save program memory.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Requirements</h2>
<p>In order to compile and use any part of the library you must have installed:</p>
<ul>
<li><a href="https://www.microchip.com/mplab/compilers">xc8 compiler</a> from Microchip</li>
</ul>
<p>Additional dependecies:</p>
<ul>
<li><a href="https://www.gnu.org/software/make">GNU Make</a> for building static libraries and this documentation (not required, <a class="el" href="index.html#mainpage-as-inline">see below</a>)</li>
<li><a href="https://www.stack.nl/~dimitri/doxygen/">Doxygen</a> and <a href="http://graphviz.org">GraphViz</a> for building this documentation</li>
</ul>
<h2><a class="anchor" id="mainpage-as-inline"></a>
Use as inlined sources</h2>
<p>Using the library as inlined sources is most likely the easiest way to use the library. Just copy all the source files for libraries that you would like to use into your your project and compile them yourself. There are not many things to consider. You only need to define <code>_XTAL_FREQ</code> to match your desired processor frequency and you are ready to roll!</p>
<h2><a class="anchor" id="mainpage-as-library"></a>
Use as static library</h2>
<p>Using the library as a static library allows staying up to date with the latest releases of the library easily. However, due to the light-weight setup of the library certain aspects like clock speeds and prescaler factors are directly compiled to binary code and cannot be set when using the library. The values in question specifically are:</p>
<ul>
<li>Chip type. Supported chips are:<ul>
<li>chip=16F1705</li>
<li>chip=16LF1705</li>
<li>chip=16F1709</li>
<li>chip=16LF1709</li>
</ul>
</li>
<li>Base frequency. Supported frequencies are:<ul>
<li>xtal_freq=32000000</li>
<li>xtal_freq=16000000</li>
<li>xtal_freq=8000000</li>
<li>xtal_freq=4000000</li>
<li>xtal_freq=2000000</li>
<li>xtal_freq=1000000</li>
<li>xtal_freq=500000</li>
</ul>
</li>
</ul>
<p>To allow users to select the chip type and clock speed when setting up a project the compiled library name includes the parameter selection for <code>chip</code> and <code>frequency</code> in its name. Example:</p>
<div class="fragment"><div class="line">libpic170x_16LF1705_2000000.lpp</div></div><!-- fragment --><p>This library is compiled for a PIC16LF1705 micro controller running its main processor clock at 2 MHz.</p>
<p>The sources for <code>libpic170x</code> contain a convenience bash-script with the name <code>build_all.sh</code> which will build all supported combinations of chip and frequencies in one go. Alternatively, if only one parameter set must be built, it is possible to control which library is being built by defining the make variables <code>chip</code> and <code>xtal_freq</code> and setting them to the apropriate parameters. Example: <code>make chip=16LF1705 xtal_freq=8000000</code> will build <code>libpic170x_16LF1705_8000000.lpp</code>.</p>
<h3><a class="anchor" id="autotoc_md6"></a>
Project compile options</h3>
<p>After the library is built, it will be placed in the install-directory of the project. Configure your PIC-project as follows:</p>
<ul>
<li>Add _XTAL_FREQ compiler definition matching the library build flags.</li>
<li>Add include directory <code>install/include</code> to your project</li>
<li>Add the correct link library for your settings from the <code>install/</code> directory</li>
</ul>
<p>Then your are set. For a working example, check the blink-demo application from the examples-directory.</p>
<h1><a class="anchor" id="mainpage-dependency-tree"></a>
Library dependency tree</h1>
<p>The dependency tree indicates what headers nad libraries are required to be included for usinga given feature. <code><a class="el" href="freq_8h.html">freq.h</a></code> forms the basis for all other libraries since it defines important timing constants for all other libraries, so it must always be available. For all other libraries all direct and indirect dependecies must be available for the library to function.</p>
<div class="dotgraph">
<img src="dot_inline_dotgraph_1.png" alt="dot_inline_dotgraph_1.png" border="0" usemap="#dot_inline_dotgraph_1.map"/>
<map name="dot_inline_dotgraph_1.map" id="dot_inline_dotgraph_1.map"><area shape="rect" id="node1" href="freq_8h.html" title="freq.h" alt="" coords="5,5,77,53"/>
<area shape="rect" id="node2" href="timer0-guide.html" title="timer0" alt="" coords="5,101,77,149"/>
</map>
</div>
 </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
